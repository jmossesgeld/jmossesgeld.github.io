(this["webpackJsonpph-payroll-manager"]=this["webpackJsonpph-payroll-manager"]||[]).push([[0],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(14),r=a(42),i=Object(r.b)({name:"timeRecords",initialState:[],reducers:{createRecord:function(e,t){e.push(Object(n.a)(Object(n.a)({},t.payload),{},{id:"".concat((new Date).getTime().toString(),"no").concat(e.length.toString())}))},updateRecord:function(e,t){var a=t.payload,n=a.key,r=a.index,i=a.newValue;e.find((function(e){return e.id===r}))[n]=i}}}),c=i.actions,s=c.createRecord,l=c.updateRecord;t.b=i.reducer},146:function(e,t){},200:function(e,t,a){},214:function(e,t){},215:function(e,t){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(56),c=a.n(i),s=a(14),l=a(8),o=(a(200),a(133)),d=a(299),u=a(300),j=a(217),b=a(116),m=a(301),h=a(70),x=a(153),f=a.n(x),p=a(95),O=a.n(p),y=a(151),v=a.n(y),g=a(152),C=a.n(g),S=a(168),w=a(40),E=a(77),P=a(294),D=a(302),N=a(293),k=a(173),H=a(280),T=a(281),I=a(21),A=a(1);function M(e){var t=e.modeState,a=Object(I.f)(),r=Object(l.a)(t,2),i=r[0],c=r[1];console.log(i);var s=Object(n.useState)(null),o=Object(l.a)(s,2),d=o[0],x=o[1],p=Object(n.useState)(null),y=Object(l.a)(p,2),g=y[0],M=y[1],F=Boolean(d),B=Boolean(g),R=function(e){x(e.currentTarget)},L=function(){M(null)},W=function(){x(null),L()};return Object(A.jsxs)(j.a,{sx:{flexGrow:1},children:[Object(A.jsx)(u.a,{position:"fixed",children:Object(A.jsxs)(m.a,{children:[Object(A.jsx)(b.a,{variant:"h5",color:"#fff",mr:2,sx:{fontFamily:"segoe ui",letterSpacing:"1px",fontWeight:"600",cursor:"pointer"},onClick:function(){return a("/")},children:"MAGE"}),Object(A.jsx)(b.a,{variant:"h5",sx:{flexGrow:1,fontFamily:"segoe ui",letterSpacing:"4px",fontWeight:"300"},children:"Payroll System"}),Object(A.jsxs)(j.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(A.jsx)(E.a,{onClick:function(){return localStorage.clear()},color:"inherit",children:"Clear Local Storage"}),Object(A.jsx)(E.a,{color:"inherit",onClick:function(){return c((function(e){return"light"===e?"dark":"light"}))},children:"light"===i?Object(A.jsx)(v.a,{}):Object(A.jsx)(C.a,{})}),Object(A.jsx)(h.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",onClick:R,children:Object(A.jsx)(O.a,{})})]}),Object(A.jsx)(h.a,{size:"large",edge:"start","aria-label":"menu",onClick:function(e){M(e.currentTarget)},sx:{ml:2,display:{xs:"flex",md:"none"}},children:Object(A.jsx)(f.a,{})})]})}),Object(A.jsxs)(S.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:F,onClose:W,children:[Object(A.jsx)(w.a,{onClick:W,children:"User Preferences"}),Object(A.jsx)(w.a,{onClick:W,children:"About Us"})]}),Object(A.jsx)(P.a,{anchor:"right",open:B,onClose:L,children:Object(A.jsx)(j.a,{sx:{width:250},role:"presentation",children:Object(A.jsxs)(D.a,{children:[Object(A.jsxs)(N.a,{button:!0,onClick:function(){a("/employees"),L()},color:"inherit",children:[Object(A.jsx)(k.a,{}),Object(A.jsx)(H.a,{primary:"Employees"})]}),Object(A.jsxs)(N.a,{button:!0,onClick:function(){a("/timekeeping"),L()},children:[Object(A.jsx)(k.a,{}),Object(A.jsx)(H.a,{primary:"Timekeeping"})]}),Object(A.jsxs)(N.a,{button:!0,onClick:function(){a("/payroll"),L()},children:[Object(A.jsx)(k.a,{}),Object(A.jsx)(H.a,{primary:"Payroll"})]}),Object(A.jsx)(T.a,{}),Object(A.jsxs)(N.a,{button:!0,size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",onClick:R,children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(O.a,{})}),Object(A.jsx)(H.a,{primary:"Settings"})]})]})})})]})}var F=a(305),B=a(177),R=a(295),L=a(107),W=a.n(L),z=a(159),U=a(20),_=a(109),G=a(42),V=["id"],J=Object(G.b)({name:"employees",initialState:[{id:0,firstName:"Juan",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"daily",salaryAmount:500,restDays:[0],workingHours:{from:"08:00",to:"17:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!0}},{id:1,firstName:"Pedro",lastName:"",middleName:"",suffix:"Sr.",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"daily",salaryAmount:650,restDays:[0,6],workingHours:{from:"07:00",to:"16:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!0}},{id:2,firstName:"Diego",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"fixed",salaryAmount:19650,restDays:[0,6],workingHours:{from:"06:00",to:"15:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!1}},{id:3,firstName:"Pablo",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"fixed",salaryAmount:25331,restDays:[0,6],workingHours:{from:"06:00",to:"15:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!1}},{id:4,firstName:"Jose",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"fixed",salaryAmount:31442,restDays:[0,6],workingHours:{from:"06:00",to:"15:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!1}},{id:5,firstName:"Ferdinand",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"daily",salaryAmount:1694,restDays:[0,6],workingHours:{from:"06:00",to:"15:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!1}},{id:6,firstName:"Richard",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"daily",salaryAmount:2141,restDays:[0,6],workingHours:{from:"06:00",to:"15:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!1}},{id:7,firstName:"Victor",lastName:"",middleName:"",suffix:"",address1:"Brgy. Sto. Nino",address2:"Calumpit, Bulacan",salaryType:"daily",salaryAmount:2141,restDays:[0,6],workingHours:{from:"06:00",to:"15:00"},eligibilities:{SSS:!0,PHIC:!0,HDMF:!1}}],reducers:{addEmployee:function(e,t){t.payload.id="".concat((new Date).getTime().toString(),"no").concat(e.length.toString()),e.push(t.payload)},updateEmployee:function(e,t){var a=t.payload,n=a.id,r=Object(_.a)(a,V),i=e.find((function(e){return e.id===n}));Object.assign(i,r)}}});function Y(e){return"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName," ").concat(e.suffix)}var X=J.actions,q=X.addEmployee,K=X.updateEmployee,Z=J.reducer,Q=a(158),$=a.n(Q),ee=a(157),te=function e(t,a){return"INPUT"===a.type?{value:a.value,isTouched:t.isTouched}:"BLUR"===a.type?{isTouched:!0,value:t.value}:"RESET"===a.type?{isTouched:!1,value:""}:e},ae=function(e,t){var a=Object(n.useReducer)(te,{value:null!==e&&void 0!==e?e:"",isTouched:!1}),r=Object(l.a)(a,2),i=r[0],c=r[1],s=!t||t(i.value),o=!s&&i.isTouched;return{value:i.value,isValid:s,hasError:o,valueChangeHandler:function(e){c({type:"INPUT",value:e.target.value})},inputBlurHandler:function(e){c({type:"BLUR"})},reset:function(){c({type:"RESET"})}}},ne=a(289),re=a(282),ie={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,maxWidth:"90vw",maxHeight:"90vh",bgcolor:"background.paper",boxShadow:24,p:4,"& input":{margin:"2px"},display:"flex",flexWrap:"wrap",overflow:"auto",borderRadius:2};function ce(e){return Object(A.jsx)(ne.a,{open:e.open,onClose:e.onClose,children:Object(A.jsx)(re.a,{sx:ie,children:e.children})})}var se=a(97),le=a(98),oe=a(285),de=a(286),ue=a(234),je=a(290),be=a(304),me=a(291),he=a(233),xe=a(176),fe=["onChange"],pe=Object(n.forwardRef)((function(e,t){var a=e.onChange,n=Object(_.a)(e,fe);return Object(A.jsx)(ee.a,Object(s.a)(Object(s.a)({},n),{},{getInputRef:t,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},thousandSeparator:!0}))}));function Oe(e){var t,a,r,i,c=Object(U.c)(),o=e.formState,d=o.open,u=o.employee,m=e.setFormState.toggle,x=ae(null===u||void 0===u?void 0:u.firstName,(function(e){return e.length>1})),f=ae(null===u||void 0===u?void 0:u.lastName),p=ae(null===u||void 0===u?void 0:u.middleName),O=ae(null===u||void 0===u?void 0:u.suffix),y=ae(null===u||void 0===u?void 0:u.address1),v=ae(null===u||void 0===u?void 0:u.address2),g=Object(n.useState)(null!==(t=null===u||void 0===u?void 0:u.salaryType)&&void 0!==t?t:"daily"),C=Object(l.a)(g,2),S=C[0],w=C[1],P=ae(null===u||void 0===u?void 0:u.salaryAmount,(function(e){return e.length>0})),D=Object(n.useState)(null!==(a=null===u||void 0===u?void 0:u.restDays)&&void 0!==a?a:[0]),N=Object(l.a)(D,2),k=N[0],H=N[1],T=Object(n.useState)(null!==(r=null===u||void 0===u?void 0:u.workingHours)&&void 0!==r?r:{from:"08:00",to:"17:00"}),I=Object(l.a)(T,2),M=I[0],F=I[1],B=Object(n.useState)(null!==(i=null===u||void 0===u?void 0:u.eligibilities)&&void 0!==i?i:{SSS:!0,PHIC:!0,HDMF:!0}),L=Object(l.a)(B,2),W=L[0],z=L[1],_=function(){x.reset(),f.reset(),p.reset(),O.reset(),y.reset(),v.reset(),P.reset()};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{sx:{display:"flex",justifyContent:"space-between"},children:Object(A.jsx)(b.a,{variant:"h4",children:"Employees List"})}),Object(A.jsxs)(ce,{open:d,onClose:m,children:[Object(A.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mb:2,width:"100%"},children:[Object(A.jsx)(b.a,{variant:"h5",children:"New Employee"}),Object(A.jsx)(h.a,{onClick:m,children:Object(A.jsx)($.a,{fontSize:"small"})})]}),Object(A.jsxs)(R.a,{container:!0,spacing:3,children:[Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(se.a,{required:!0,autoFocus:!0,id:"firstName",name:"firstName",label:"First name",value:x.value,onChange:x.valueChangeHandler,onBlur:x.inputBlurHandler,error:x.hasError,fullWidth:!0,autoComplete:"given-name",variant:"standard"})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(se.a,{id:"lastName",name:"lastName",label:"Last name",value:f.value,onChange:f.valueChangeHandler,onBlur:f.inputBlurHandler,error:f.hasError,fullWidth:!0,autoComplete:"family-name",variant:"standard"})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(se.a,{id:"middleName",name:"middleName",label:"Middle name",value:p.value,onChange:p.valueChangeHandler,onBlur:p.inputBlurHandler,error:p.hasError,fullWidth:!0,autoComplete:"family-name",variant:"standard"})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(se.a,{id:"suffix",name:"suffix",label:"Suffix",value:O.value,onChange:O.valueChangeHandler,onBlur:O.inputBlurHandler,error:O.hasError,fullWidth:!0,autoComplete:"family-name",variant:"standard",placeholder:"Jr. /Sr. / III etc."})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(se.a,{id:"address1",name:"address1",label:"Room, House No., Building, Street, Subdivision, Barangay",value:y.value,onChange:y.valueChangeHandler,onBlur:y.inputBlurHandler,error:y.hasError,fullWidth:!0,autoComplete:"address-line1",variant:"standard"})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(se.a,{id:"address2",name:"address2",label:"Municipality, City, Province",value:v.value,onChange:v.valueChangeHandler,onBlur:v.inputBlurHandler,error:v.hasError,fullWidth:!0,autoComplete:"address-line2",variant:"standard"})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsxs)(le.a,{component:"fieldset",children:[Object(A.jsx)(oe.a,{component:"legend",children:"Salary Type"}),Object(A.jsxs)(de.a,{row:!0,"aria-label":"rate",defaultValue:"daily",value:S,onChange:function(e,t){return w(t)},name:"radio-buttons-group",children:[Object(A.jsx)(ue.a,{value:"daily",control:Object(A.jsx)(je.a,{}),label:"Daily Rate"}),Object(A.jsx)(ue.a,{value:"fixed",control:Object(A.jsx)(je.a,{}),label:"Fixed Rate (Monthly)"})]})]})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(se.a,{required:!0,id:"salary",name:"salary",label:"daily"===S?"Daily Salary":"Monthly Salary",value:P.value,onChange:P.valueChangeHandler,onBlur:P.inputBlurHandler,error:P.hasError,fullWidth:!0,variant:"outlined",InputProps:{startAdornment:Object(A.jsx)(be.a,{position:"start",children:"\u20b1"}),inputComponent:pe}})}),Object(A.jsx)(R.a,{item:!0,xs:6,children:Object(A.jsx)(me.a,{multiple:!0,autoHighlight:!0,id:"tags-standard",value:k,onChange:function(e,t){return H(t)},options:[0,1,2,3,4,5,6],getOptionLabel:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]},defaultValue:[0],renderInput:function(e){return Object(A.jsx)(se.a,Object(s.a)(Object(s.a)({},e),{},{variant:"standard",label:"Rest Day(s)",placeholder:"Select multiple days if necessary..."}))}})}),Object(A.jsxs)(R.a,{item:!0,xs:6,children:[Object(A.jsx)(b.a,{variant:"caption",sx:{display:"block",mb:1},children:"Working Hours"}),Object(A.jsx)(se.a,{type:"time",label:"From",value:M.from,onChange:function(e){F((function(t){return Object(s.a)(Object(s.a)({},t),{},{from:e.target.value})}))},InputLabelProps:{shrink:!0}}),Object(A.jsx)(se.a,{type:"time",label:"To",value:M.to,onChange:function(e){F((function(t){return Object(s.a)(Object(s.a)({},t),{},{to:e.target.value})}))},InputLabelProps:{shrink:!0}})]}),Object(A.jsxs)(R.a,{item:!0,xs:12,children:[Object(A.jsx)(oe.a,{component:"legend",children:"Eligibility for deduction"}),Object(A.jsxs)(he.a,{row:!0,children:[Object(A.jsx)(ue.a,{control:Object(A.jsx)(xe.a,{checked:W.SSS,onChange:function(){return z((function(e){return Object(s.a)(Object(s.a)({},e),{},{SSS:!e.SSS})}))},size:"small"}),label:"SSS"}),Object(A.jsx)(ue.a,{control:Object(A.jsx)(xe.a,{checked:W.PHIC,onChange:function(){return z((function(e){return Object(s.a)(Object(s.a)({},e),{},{PHIC:!e.PHIC})}))},size:"small"}),label:"Philhealth"}),Object(A.jsx)(ue.a,{control:Object(A.jsx)(xe.a,{checked:W.HDMF,onChange:function(){return z((function(e){return Object(s.a)(Object(s.a)({},e),{},{HDMF:!e.HDMF})}))},size:"small"}),label:"Pag-ibig"})]})]})]}),Object(A.jsx)(j.a,{sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:Object(A.jsx)(E.a,{variant:"contained",onClick:function(e){x.isValid&&P.isValid?(c(u?K(Object(s.a)(Object(s.a)({},u),{},{firstName:x.value,lastName:f.value,middleName:p.value,suffix:O.value,address1:y.value,address2:v.value,salaryType:S,salaryAmount:parseInt(P.value.replace(/\u20b1|,/g,"")),restDays:k,workingHours:M,eligibilities:W})):q({firstName:x.value,lastName:f.value,middleName:p.value,suffix:O.value,address1:y.value,address2:v.value,salaryType:S,salaryAmount:parseInt(P.value.replace(/\u20b1|,/g,"")),restDays:k,workingHours:M,eligibilities:W})),m(),_()):alert("Please fill up required fields.\n(First Name, Salary Amount)")},sx:{mt:3,ml:1},children:"Add"})})]})]})}var ye=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}),ve={display:"flex",flexDirection:"column",padding:5,width:"100%",maxWidth:"800px",margin:"3rem 0"},ge=function(){var e=Object(I.f)(),t=Object(n.useState)({open:!1,employee:null}),a=Object(l.a)(t,2),r=a[0],i=a[1],c={toggle:function(){return i((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open})}))},newEmployee:function(){return i({open:!0,employee:null})},editEmployee:function(e){return i({open:!0,employee:e})}},o=Object(U.d)((function(e){return e.employees})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{fullName:Y(e),salaryAmount:ye.format(e.salaryAmount)})})),d=[{field:"fullName",headerName:"Name",width:250,align:"right",headerAlign:"right"},{field:"salaryType",headerName:"Salary Type",width:150,align:"right",headerAlign:"right",renderCell:function(e){return Object(A.jsx)(b.a,{variant:"overline",children:e.value})}},{field:"salaryAmount",headerName:"Amount",width:150,align:"right",headerAlign:"right"},{field:"edit",headerName:"Edit",width:100,align:"right",headerAlign:"right",renderCell:function(e){return Object(A.jsx)(h.a,{onClick:c.editEmployee.bind(null,e.row),children:Object(A.jsx)(W.a,{})})}}];return Object(A.jsx)(F.a,{sx:{display:"flex",justifyContent:"center"},children:Object(A.jsxs)(B.a,{elevation:5,sx:ve,children:[Object(A.jsxs)(R.a,{container:!0,sx:{mb:2},children:[Object(A.jsx)(R.a,{item:!0,xs:12,sm:12,md:6,children:Object(A.jsx)(b.a,{variant:"h5",children:"Employees"})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:12,md:6,sx:{textAlign:"right"},children:Object(A.jsx)(E.a,{onClick:c.newEmployee,variant:"contained",children:"Add New Employee"})})]}),r.open&&Object(A.jsx)(Oe,{formState:r,setFormState:c}),Object(A.jsx)(z.a,{rows:o,columns:d,autoHeight:!0,checkboxSelection:!0}),Object(A.jsxs)(re.a,{sx:{textAlign:"right",mt:2},children:[Object(A.jsx)(E.a,{variant:"contained",onClick:function(){return e("/timekeeping")},children:"Timekeeping"}),Object(A.jsx)(E.a,{sx:{ml:2},variant:"contained",color:"success",onClick:function(){return e("/new")},children:"Create New Payroll"})]})]})})},Ce=a(15),Se=a(33),we=Object(G.b)({name:"payrolls",initialState:[],reducers:{createPayroll:function(e,t){e.push(t.payload)},updatePayroll:function(e,t){var a=t.payload,n=a.key,r=a.index,i=a.newValue;e[r][n]=i}}}),Ee=we.actions,Pe=Ee.createPayroll,De=(Ee.updatePayroll,we.reducer),Ne=a(102),ke=a(53),He=a(54),Te=function(){function e(){Object(ke.a)(this,e),this.minThreshold=3e3,this.maxThreshold=25e3,this.EErate=.045,this.ERrate=.085,this.maxEE=this.EErate*this.maxThreshold,this.maxER=this.EErate*this.maxThreshold}return Object(He.a)(e,[{key:"compute",value:function(e,t){var a=Math.max(Math.min(500*Math.round(e/500),this.maxThreshold),this.minThreshold);return{ER:Math.min(a*this.ERrate,this.maxER)-t,EE:Math.min(a*this.EErate,this.maxEE)-t,EC:a<15e3?10:30}}}]),e}(),Ie=function(){function e(){Object(ke.a)(this,e),this.minThreshold=1e4,this.maxThreshold=6e4,this.EErate=.03,this.ERrate=.03,this.minEE=this.EErate*this.minThreshold,this.maxEE=this.EErate*this.maxThreshold}return Object(He.a)(e,[{key:"compute",value:function(e,t){var a=e*this.EErate,n=Math.max(a,this.minEE),r=Math.min(n,this.maxEE)-t;return Math.round(100*r)/100}}]),e}(),Ae=function(){function e(){var t=this;Object(ke.a)(this,e),this.minThreshold=0,this.maxThreshold=5e3,this.EErate=function(e){return e>1500?.02:.01},this.ERrate=.02,this.maxEE=function(e){return t.EErate(e)*t.maxThreshold},this.maxER=this.ERrate*this.maxThreshold}return Object(He.a)(e,[{key:"compute",value:function(e,t){var a=Math.min(e,this.maxThreshold);return{EE:Math.min(a*this.EErate(e),this.maxEE(e))-t,ER:Math.min(a*this.ERrate,this.maxER)-t}}}]),e}();function Me(e){return e.reduce((function(e,t){var a=parseFloat(Object(Se.c)(t.timeOut,t.timeIn))>0?8-t.late-Math.min(t.overtime,0):0,n=t.holidays.filter((function(e){return"regular"===e.type})).length,r=t.holidays.filter((function(e){return"special"===e.type})).length,i=1;return t.isRestDay?i=r?1.5:n?2.6:1.3:r?i=1.3:n&&(i=1+n),{normalDaysWorked:e.normalDaysWorked+(t.isRestDay||r||n?0:1),overtime:e.overtime+Math.max(t.overtime,0)*i*1.25,undertime:e.undertime+Math.min(t.overtime,0)*i,regularHoliday:e.regularHoliday+(n?i:0)*a,specialHoliday:e.specialHoliday+(r?i:0)*a,restDay:e.restDay+(t.isRestDay&&0===r&&0===n?i:0)*a,late:e.late+t.late*i,absences:e.absences+(t.isAbsent?8:0)}}),{normalDaysWorked:0,overtime:0,undertime:0,regularHoliday:0,specialHoliday:0,restDay:0,late:0,absences:0})}var Fe=a(3),Be=Object(G.b)({name:"payrollitems",initialState:[{name:"sssLoan",isActive:!1,header:"SSS Loan"},{name:"phicLoan",isActive:!1,header:"PHIC Loan"},{name:"hdmfLoan",isActive:!1,header:"HDMF Loan"},{name:"cashAdvance",isActive:!0,header:"Cash Adv."}],reducers:{addDeductionItem:function(e,t){e.push(t.payload)},updateDeductionItem:function(e,t){var a=t.payload,n=a.item,r=a.isActive;e[n]=Object(s.a)(Object(s.a)({},e[n]),{},{isActive:r})},disableDeductionItem:function(e,t){var a=t.payload.item;e[a]=Object(s.a)(Object(s.a)({},e[a]),{},{isActive:!1})},removeDeductionItem:function(e,t){var a=e.findIndex((function(e){return e.name===t.payload.name}));e.splice(a,1)}}}),Re=Be.actions,Le=Re.addDeductionItem,We=Re.updateDeductionItem,ze=(Re.disableDeductionItem,Re.removeDeductionItem),Ue=Be.reducer;function _e(e){var t=Object(U.c)(),a=Object(U.d)((function(e){return e.employees})),r=Object(U.d)((function(e){return e.userprefs.selectedEmployee}));return Object(n.useEffect)((function(){t(Object(Se.g)(a[0]))}),[a,t]),Object(A.jsx)(me.a,{options:a,getOptionLabel:function(e){return Y(e)},id:"auto-highlight",autoHighlight:!0,value:r,onChange:function(a,n){n&&t(Object(Se.g)(n)),e.onChange&&e.onChange()},isOptionEqualToValue:function(e,t){return e.id===t.id},renderInput:function(e){return Object(A.jsx)(se.a,Object(s.a)(Object(s.a)({},e),{},{label:"Employee",variant:"standard"}))}})}var Ge="1px solid #ddd";function Ve(){var e=Object(U.c)(),t=Object(U.d)((function(e){return e.userprefs.selectedEmployee})),a=Object(U.d)((function(e){return e.otherpayrollitems})),i=Object(U.d)((function(e){return e.userprefs.otherItemsData}),U.b),c=Object(n.useState)(!1),o=Object(l.a)(c,2),d=o[0],u=o[1],j=Object(n.useState)(""),m=Object(l.a)(j,2),h=m[0],x=m[1],f=function(){u((function(e){return!e}))};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(E.a,{onClick:f,variant:"contained",color:"secondary",children:"Other Items"}),Object(A.jsx)(ce,{open:d,onClose:f,children:Object(A.jsxs)(R.a,{container:!0,spacing:2,children:[Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(_e,{})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(b.a,{variant:"caption",children:"Show in Table"})}),a.map((function(a,n){var c,l,o;return Object(A.jsxs)(r.a.Fragment,{children:[Object(A.jsx)(R.a,{item:!0,xs:6,sx:{border:Ge},children:Object(A.jsx)(ue.a,{label:a.header,control:Object(A.jsx)(xe.a,{checked:null!==(c=a.isActive)&&void 0!==c&&c,onChange:function(t){e(We({item:n,isActive:t.target.checked}))}})})}),Object(A.jsx)(R.a,{item:!0,xs:3,sx:{border:Ge,padding:1},children:Object(A.jsx)(se.a,{type:"number",label:"Amount",variant:"standard",InputLabelProps:{shrink:!0},value:null!==(l=null===(o=i.find((function(e){return e.id===t.id})))||void 0===o?void 0:o[a.name])&&void 0!==l?l:0,onChange:function(n){e(Object(Se.d)([].concat(Object(Ce.a)(i.filter((function(e){return e.id!==t.id}))),[Object(s.a)(Object(s.a)({},i.find((function(e){return e.id===t.id}))),{},Object(Fe.a)({id:t.id},a.name,Number(n.target.value)))])))}})}),Object(A.jsx)(R.a,{item:!0,xs:3,sx:{border:Ge},children:Object(A.jsx)(E.a,{color:"error",onClick:function(){return e(ze(a))},children:"Remove"})})]},n)})),Object(A.jsx)(R.a,{item:!0,xs:4,children:Object(A.jsx)(se.a,{placeholder:"New Custom Item",variant:"standard",value:h,onChange:function(e){x(e.target.value)}})}),Object(A.jsx)(R.a,{item:!0,xs:3,children:Object(A.jsx)(E.a,{variant:"contained",onClick:function(){e(Le({name:h.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""),isActive:!0,header:h})),x("")},children:"Add"})})]})})]})}var Je=a(135);function Ye(e){var t=Object(U.c)(),a=Object(U.d)((function(e){return e.userprefs.currentPayrollPeriod})),n=a.from,r=a.to;return Object(A.jsx)(Je.a,{title:"Choose payroll period",placement:"top",children:Object(A.jsxs)("div",{children:[Object(A.jsx)(se.a,{type:"date",label:"from",value:n,onChange:function(e){t(Object(Se.e)(e.target.value))},InputLabelProps:{shrink:!0}}),Object(A.jsx)(se.a,{type:"date",label:"to",value:r,onChange:function(e){t(Object(Se.f)(e.target.value))},InputLabelProps:{shrink:!0}})]})})}var Xe=a(230),qe=a(306),Ke=a(307),Ze=a(308),Qe=a(309),$e=a(310),et=a(311);function tt(e){var t,a=null!==(t=e.rows)&&void 0!==t?t:[],n=e.columns;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(Ke.a,{sx:{height:"100%"},children:Object(A.jsxs)(Ze.a,{sx:{width:120*n.length,overflow:"scroll"},children:[Object(A.jsx)(Qe.a,{children:Object(A.jsx)($e.a,{children:n.map((function(t){return function(t){function a(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Defer the deduction to the next payroll within the same month",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Enable",r=e.payrollOptions[t];return Object(A.jsx)(Je.a,{title:r?a:n,children:Object(A.jsx)(Xe.a,{size:"small",checked:r,onChange:function(){return e.setPayrollOptions((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(Fe.a)({},t,!e[t]))}))}})})}var n=null;switch(t.field){case"sssCont":n=a("sssCont");break;case"phicCont":n=a("phicCont");break;case"hdmfCont":n=a("hdmfCont");break;case"basicPay":n=a("enforceDailyRate","Turn off to disable forced daily rates","Turn on to enforce daily rate on fixed rate employees");break;default:n=null}return Object(A.jsx)(qe.a,{children:Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"employeeName"===t.field?"flex-start":"flex-end",textAlign:"employeeName"===t.field?"left":"right",alignItems:"center"},children:[n,Object(A.jsx)(b.a,{variant:"inherit",fontWeight:"bold",children:t.headerName})]})},t.field)}(t)}))})}),Object(A.jsx)(et.a,{children:a.map((function(e){return Object(A.jsx)($e.a,{children:n.map((function(t){return function(e,t){var a,n=null!==(a=e[t.field])&&void 0!==a?a:0,r="employeeName"===t.field;return r||(n=(Math.round(100*Number(n))/100).toLocaleString("en-US",{style:"currency",currency:"PHP"})),Object(A.jsx)(qe.a,{children:Object(A.jsx)(b.a,{variant:"inherit",align:r?"left":"right",children:n})},t.field)}(e,t)}))},e.employeeName)}))})]})})})}var at={paper:{width:"80vw",margin:"auto",mt:2,ml:2,padding:4}};function nt(){var e=Object(I.f)(),t=Object(U.c)(),a=Object(U.d)((function(e){return e.employees}),U.b),r=Object(U.d)((function(e){return e.userprefs.currentPayrollPeriod}),U.b),i=Object(U.d)((function(e){return e.holidays})),c=Object(Se.b)(r.from,r.to).map((function(e){return e.getTime()})),o=Object(U.d)((function(e){return e.timeKeeping.filter((function(e){return c.includes(e.date)}))})),d=Object(U.d)((function(e){return e.payrolls.filter((function(e){var t,a,n,i=new Date(null!==(t=null===(a=e.rows[0])||void 0===a||null===(n=a.dateList)||void 0===n?void 0:n.at(-1))&&void 0!==t?t:0),c=new Date(r.to);return new Date(i.getFullYear(),i.getMonth()+1,0).getTime()===new Date(c.getFullYear(),c.getMonth()+1,0).getTime()}))})),u=Object(n.useState)({sssCont:!0,phicCont:!0,hdmfCont:!0,enforceDailyRate:!1,tax:!0}),j=Object(l.a)(u,2),b=j[0],m=j[1],h=function(e,t,a,n,r){return e.map((function(e){var i=t.map((function(t){var i=a.find((function(a){return a.date===t&&a.employeeId===e.id})),c=n.filter((function(e){return new Date(e.date).getTime()===t})),l=Boolean(e.restDays.filter((function(e){return e===new Date(t).getDay()})).length);if(i)return Object(s.a)(Object(s.a)({},i),{},{isRestDay:l,holidays:c});var o={employeeId:e.id,date:t,timeIn:l||c.length?"":e.workingHours.from,timeOut:l||c.length?"":e.workingHours.to,overtime:0,late:0,isRestDay:l,holidays:c};return r(Object(Ne.a)(o)),o}));return{employee:e,dateList:t,grossModifiers:Me(i)}}))}(a,c,o,i,t),x=function(e,t,a){return e.map((function(e){var n,r,i=e.dateList,c=e.grossModifiers,l=e.employee;"daily"===l.salaryType?r=(n=l.salaryAmount/8)*c.normalDaysWorked*8:(n=12*l.salaryAmount/(365-52*l.restDays.length)/8,r=a.enforceDailyRate?n*c.normalDaysWorked*8:i.length>17?l.salaryAmount:i.length>9?l.salaryAmount/2:l.salaryAmount/4);var o=l.id,d=Y(l),u=n*c.overtime,j=n*(c.regularHoliday+c.specialHoliday),b=n*c.restDay,m=n*(c.late+c.undertime),h=n*c.absences,x=r+u+j+b-m-h,f=function(e,t){return e.reduce((function(e,a){var n,r,i,c,s,l,o=a.rows.find((function(e){return e.employeeID===t}));return{accumBasicPay:null!==(n=e.accumBasicPay+(null===o||void 0===o?void 0:o.basicPay))&&void 0!==n?n:0,accumGrossPay:null!==(r=e.accumGrossPay+(null===o||void 0===o?void 0:o.grossPay))&&void 0!==r?r:0,prevSSSConts:null!==(i=e.prevSSSConts+(null===o||void 0===o?void 0:o.sssCont))&&void 0!==i?i:0,prevPHICConts:null!==(c=e.prevPHICConts+(null===o||void 0===o?void 0:o.phicCont))&&void 0!==c?c:0,prevHDMFConts:null!==(s=e.prevHDMFConts+(null===o||void 0===o?void 0:o.hdmfCont))&&void 0!==s?s:0,prevTAX:null!==(l=e.prevTAX+(null===o||void 0===o?void 0:o.tax))&&void 0!==l?l:0}}),{prevSSSConts:0,prevPHICConts:0,prevHDMFConts:0,accumBasicPay:0,accumGrossPay:0,prevTAX:0})}(t,o),p=f.prevSSSConts,O=f.prevPHICConts,y=f.prevHDMFConts,v=f.accumGrossPay,g=f.accumBasicPay,C=f.prevTAX,S=a.sssCont&&l.eligibilities.SSS?(new Te).compute(v+x,p).EE:0,w=a.phicCont&&l.eligibilities.PHIC?(new Ie).compute(g+r,O):0,E=a.hdmfCont&&l.eligibilities.HDMF?(new Ae).compute(v+x,y).EE:0,P=v+x-S-w-E-p-O-y,D=P>0?function(e,t){for(var a=12*e,n=[{base:0,rate:0},{base:25e4,rate:.2},{base:4e5,rate:.25},{base:8e5,rate:.3},{base:2e6,rate:.32},{base:8e6,rate:.35}],r=0,i=0;i<n.length&&a>n[i].base;i++)r+=(a-n[i].base)*n[i].rate;return r/12-t}(P,C):0,N=a.others;return Object(s.a)({id:o,employeeID:o,employeeName:d,basicPay:r,overtime:u,holiday:j,restDay:b,lateUndertime:m,absences:h,grossPay:x,sssCont:S,phicCont:w,hdmfCont:E,tax:D,dateList:i},N)}))}(h,d,b),f=Object(U.d)((function(e){return e.otherpayrollitems})),p=f.filter((function(e){return e.isActive})).map((function(e){return{field:e.name,headerName:e.header,type:"number"}}));Object(U.d)((function(e){return e.userprefs.otherItemsData}),U.b).forEach((function(e){var t=x.find((function(t){return t.id===e.id}));t&&Object.assign(t,e)})),x.forEach((function(e){var t=f.reduce((function(t,a){var n;return t+(null!==(n=e[a.name])&&void 0!==n?n:0)}),0);e.netPay=e.grossPay-e.sssCont-e.phicCont-e.hdmfCont-e.tax-t}));var O=[{field:"employeeName",headerName:"Employee"},{field:"basicPay",headerName:"Basic Pay",type:"number"},{field:"overtime",headerName:"Overtime",type:"number"},{field:"holiday",headerName:"Holiday",type:"number"},{field:"restDay",headerName:"Rest Day",type:"number"},{field:"lateUndertime",headerName:"Late / UT",type:"number"},{field:"absences",headerName:"Absences",type:"number"},{field:"grossPay",headerName:"Gross Pay",type:"number"},{field:"sssCont",headerName:"SSS",type:"number"},{field:"phicCont",headerName:"Philhealth",type:"number"},{field:"hdmfCont",headerName:"Pag-ibig",type:"number"},{field:"tax",headerName:"WTax",type:"number"}].concat(Object(Ce.a)(p),[{field:"netPay",headerName:"Net Pay",type:"number"}]);return Object(A.jsx)(B.a,{elevation:5,sx:at.paper,children:Object(A.jsxs)(R.a,{container:!0,spacing:2,children:[Object(A.jsx)(R.a,{item:!0,xs:6,children:Object(A.jsx)(Ye,{})}),Object(A.jsx)(R.a,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},children:Object(A.jsx)(Ve,{})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(B.a,{sx:{height:"50vh"},children:c.length>0&&Object(A.jsx)(tt,{rows:x,columns:O,payrollOptions:b,setPayrollOptions:m})})}),Object(A.jsx)(R.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},children:Object(A.jsx)(E.a,{variant:"contained",onClick:function(){t(Pe({dateCreated:Date.now(),rows:x,columns:O})),e("/payroll")},children:"Finalize and Export"})})]})})}var rt=a(287),it=a(297),ct=a(312),st=a(298);var lt=Object(G.b)({name:"holidays",initialState:[{date:"2021-11-12",type:"regular",description:"Bonifacio Day"}],reducers:{addHoliday:function(e,t){e.push(t.payload)},removeHoliday:function(e,t){var a=e.findIndex((function(e){return e.date===t.payload.date&&e.description===t.payload.description}));-1!==a&&e.splice(a,1)}}}),ot=lt.actions,dt=ot.addHoliday,ut=ot.removeHoliday,jt=lt.reducer;function bt(e){var t=Object(U.c)();return Object(A.jsxs)(R.a,{container:!0,spacing:1,sx:{padding:2},children:[Object(A.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(A.jsx)(b.a,{sx:{color:"red"},fontWeight:"bold",children:e.date})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(A.jsx)(b.a,{variant:"overline",children:e.type})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(A.jsx)(b.a,{children:e.description})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:3,sx:{display:"flex",justifyContent:"flex-end"},children:Object(A.jsx)(E.a,{color:"warning",onClick:function(){t(ut({date:e.date,description:e.description}))},children:"Remove"})})]})}function mt(e){var t=Object(U.d)((function(e){return e.holidays})),a=Object(U.c)(),r=Object(n.useState)(!1),i=Object(l.a)(r,2),c=i[0],o=i[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=864e5,a=Object(n.useState)(new Date(Date.now()+e*t).toISOString().split("T")[0]),r=Object(l.a)(a,2),i=r[0],c=r[1];return[i,c]}(),u=Object(l.a)(d,2),j=u[0],m=u[1],h=Object(n.useState)(""),x=Object(l.a)(h,2),f=x[0],p=x[1],O=Object(n.useState)("regular"),y=Object(l.a)(O,2),v=y[0],g=y[1],C=function(){o((function(e){return!e}))},S=e.dateList.map((function(e){return t.filter((function(t){return new Date(t.date).getTime()===new Date(e).getTime()}))})).filter((function(e){return e.length})),w=S.length?Object(A.jsx)(b.a,{variant:"caption",sx:{display:"flex",justifyContent:"center"},children:"Holidays from ".concat(e.dateList[0].toLocaleDateString()," to ").concat(e.dateList[e.dateList.length-1].toLocaleDateString())}):"";return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(E.a,{onClick:C,variant:"contained",children:"Set Holidays"}),Object(A.jsx)(ce,{open:c,onClose:C,children:Object(A.jsxs)(R.a,{container:!0,spacing:3,children:[Object(A.jsx)(R.a,{item:!0,xs:12,sm:5,children:Object(A.jsx)(se.a,{type:"date",label:"Date",value:j,onChange:function(e){return m(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:7,children:Object(A.jsxs)(le.a,{component:"fieldset",children:[Object(A.jsx)(oe.a,{component:"legend",children:"Holiday Type"}),Object(A.jsxs)(de.a,{row:!0,"aria-label":"type",value:v,onChange:function(e,t){return g(t)},name:"radio-buttons-group",children:[Object(A.jsx)(ue.a,{value:"regular",control:Object(A.jsx)(je.a,{}),label:"Regular"}),Object(A.jsx)(ue.a,{value:"special",control:Object(A.jsx)(je.a,{}),label:"Special Non-Working"})]})]})}),Object(A.jsx)(R.a,{item:!0,xs:9,children:Object(A.jsx)(se.a,{label:"Description",placeholder:"ex. Christmas Day",value:f,onChange:function(e){return p(e.target.value)},fullWidth:!0})}),Object(A.jsx)(R.a,{item:!0,xs:3,sx:{display:"flex",justifyContent:"flex-end"},children:Object(A.jsx)(E.a,{variant:"outlined",color:"warning",onClick:function(){f.length>1?(a(dt({date:j,type:v,description:f})),p("")):alert("Please enter holiday description")},children:"Add"})}),Object(A.jsxs)(R.a,{item:!0,xs:12,children:[Object(A.jsx)(T.a,{}),w,Object(A.jsx)(rt.a,{divider:Object(A.jsx)(T.a,{}),sx:{border:"solid",borderWidth:"1px",borderColor:"lightgray",mt:2},spacing:0,children:Object(A.jsx)(st.a,{children:S.map((function(e,t){return e.map((function(e,a){return Object(A.jsx)(ct.a,{children:Object(A.jsx)(bt,Object(s.a)({},e))},String(t)+String(a))}))}))})})]})]})})]})}var ht={display:"flex",justifyContent:"center",width:"100%",maxWidth:"800px",margin:"3rem 0",padding:5};function xt(){var e=Object(U.d)((function(e){return e.userprefs.currentPayrollPeriod})),t=Object(n.useMemo)((function(){return Object(Se.b)(e.from,e.to)}),[e]),i=Object(U.d)((function(e){return e.userprefs.selectedEmployee})),c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],d=s[1],u=r.a.lazy((function(){return a.e(3).then(a.bind(null,313))})),j=Object(n.useCallback)((function(){t.length>0?setTimeout((function(){d(Object(A.jsx)(rt.a,{spacing:1,divider:Object(A.jsx)(T.a,{}),children:t.map((function(e){return Object(A.jsx)(n.Suspense,{fallback:Object(A.jsx)(it.a,{sx:{bgcolor:"grey.100"},variant:"rectangular",height:120}),children:Object(A.jsx)(u,{date:e.getTime(),employee:i},e.toString().concat(i.id))},e)}))}))}),0):alert("No dates selected")}),[t,i]);return Object(A.jsx)(re.a,{sx:{display:"flex",flexDirection:"column",margin:"auto"},children:Object(A.jsx)(B.a,{sx:ht,elevation:5,children:Object(A.jsxs)(R.a,{container:!0,spacing:3,children:[Object(A.jsx)(R.a,{item:!0,xs:12,sm:12,md:5,children:Object(A.jsx)(_e,{onChange:function(){return d("")}})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:12,md:7,sx:{display:"flex",justifyContent:"flex-end"},children:Object(A.jsx)(Ye,{onChange:function(){return d("")}})}),Object(A.jsxs)(R.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(mt,{dateList:t}),Object(A.jsx)(E.a,{variant:"contained",onClick:j,children:"Generate Time Card"})]}),Object(A.jsx)(R.a,{item:!0,xs:12,children:o})]})})})}var ft=a(160),pt=a.n(ft),Ot=a(76),yt=a.n(Ot);function vt(e){return Object(A.jsxs)(E.a,{onClick:function(){for(var t=e.pay.rows.map((function(t){var a={};return e.pay.columns.forEach((function(e){var n;a[e.headerName]=null!==(n=t[e.field])&&void 0!==n?n:0})),a})),a=yt.a.utils.book_new(),n=yt.a.utils.json_to_sheet(t),r=n["!ref"],i=yt.a.utils.decode_range(r),c=i.s.c;c<=i.e.c;c++)for(var l=i.s.r;l<=i.e.r;l++){var o=n[yt.a.utils.encode_cell({c:c,r:l})];o&&(0===l&&(o.s=Object(s.a)(Object(s.a)({},o.s),{},{font:{bold:!0},alignment:{horizontal:"center",vertical:"center",wrapText:!0},border:{bottom:{style:"medium"}}})),o.z='_(* #,##0.00_);_(* (#,##0.00);_(* " - "??_);_(@_)')}n["!rows"]=[{hpt:30}],n["!cols"]=[{wch:30}].concat(Object(Ce.a)(e.pay.columns.map((function(e){return{wch:10}})))),n["!ref"]=r,yt.a.utils.book_append_sheet(a,n,"Payroll"),yt.a.writeFile(a,"payroll.xlsx")},children:["Export",Object(A.jsx)("img",{src:"https://img.icons8.com/ios/24/000000/ms-excel.png",width:20,alt:"Excel Icon",style:{marginLeft:5}})]})}function gt(e){var t=function(e){return Object(A.jsx)(R.a,Object(s.a)(Object(s.a)({item:!0},e),{},{sx:{display:"flex",alignItems:"center"},children:e.children}))};return Object(A.jsxs)(R.a,{container:!0,sx:{border:"solid 1px #cccccc",p:2},children:[Object(A.jsx)(t,{xs:12,sm:12,md:4,children:Object(A.jsxs)(b.a,{variant:"caption",children:["Date Created: ",new Date(e.pay.dateCreated).toLocaleString()]})}),Object(A.jsx)(t,{xs:12,sm:12,md:2.5,children:Object(A.jsxs)(b.a,{variant:"caption",children:["No. of Employees: ",e.pay.rows.length]})}),Object(A.jsx)(t,{xs:12,sm:12,md:2.5,children:Object(A.jsxs)(b.a,{variant:"caption",children:["Net Pay:"," ",e.pay.rows.reduce((function(e,t){return e+t.netPay}),0).toLocaleString("en-US",{style:"currency",currency:"PHP"})]})}),Object(A.jsx)(R.a,{item:!0,xs:4,sm:3,md:1.5,children:Object(A.jsx)(vt,{pay:e.pay})}),Object(A.jsx)(R.a,{item:!0,xs:2,sm:2,md:.75,children:Object(A.jsx)(E.a,{children:Object(A.jsx)(W.a,{})})}),Object(A.jsx)(R.a,{item:!0,xs:4,sm:4,md:.75,children:Object(A.jsx)(E.a,{children:Object(A.jsx)(pt.a,{})})})]})}var Ct={display:"flex",justifyContent:"center",margin:"auto",width:800,maxWidth:"80vw",padding:4,mt:5,maxHeight:"80vh",overflow:"auto"};function St(){var e=Object(I.f)(),t=Object(U.d)((function(e){return e.payrolls})),a=Object(Ce.a)(t).sort((function(e,t){return t.dateCreated-e.dateCreated}));return Object(A.jsx)(j.a,{sx:{display:"flex",flexDirection:"column",margin:"auto"},children:Object(A.jsx)(B.a,{sx:Ct,elevation:5,children:Object(A.jsxs)(R.a,{container:!0,spacing:2,children:[Object(A.jsx)(R.a,{item:!0,xs:6,children:Object(A.jsx)(b.a,{variant:"h5",children:"Payroll History"})}),Object(A.jsx)(R.a,{item:!0,xs:6,pb:2,textAlign:"right",children:Object(A.jsx)(E.a,{variant:"contained",onClick:function(){return e("/new")},children:"Create New Payroll"})}),0===a.length?Object(A.jsx)(j.a,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",height:"5rem",border:"1px solid #cfcfcf",margin:"1rem auto"},children:Object(A.jsx)(b.a,{children:"No Payroll Created Yet"})}):a.map((function(e,t){return Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(gt,{pay:e})},t)}))]})})})}var wt=a(288),Et=a(4),Pt=a(166),Dt=a.n(Pt),Nt=a(162),kt=a.n(Nt),Ht=a(163),Tt=a.n(Ht),It=a(164),At=a.n(It),Mt=a(165),Ft=a.n(Mt),Bt=a(161),Rt=a.n(Bt);function Lt(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],i=function(){r((function(e){return!e}))};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(N.a,{button:!0,onClick:i,children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(Rt.a,{})}),Object(A.jsx)(H.a,{primary:"Contact Us"})]}),Object(A.jsx)(ce,{open:a,onClose:i,children:Object(A.jsxs)(R.a,{container:!0,spacing:3,children:[Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(b.a,{variant:"h5",textAlign:"center",children:"Contact Us"})}),Object(A.jsx)(R.a,{item:!0,xs:6,children:Object(A.jsx)(se.a,{label:"Your Name",variant:"outlined",fullWidth:!0})}),Object(A.jsx)(R.a,{item:!0,xs:6,children:Object(A.jsx)(se.a,{label:"Your Email",variant:"outlined",fullWidth:!0})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(se.a,{label:"Subject",variant:"outlined",fullWidth:!0})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(se.a,{label:"Message",variant:"outlined",multiline:!0,rows:5,fullWidth:!0})}),Object(A.jsx)(R.a,{item:!0,xs:12,children:Object(A.jsx)(E.a,{variant:"contained",fullWidth:!0,children:"Send"})})]})})]})}var Wt=Object(Et.a)(P.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return{"& .MuiDrawer-paper":Object(s.a)({position:"relative",whiteSpace:"nowrap",height:"100%",zIndex:0,width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!a&&Object(Fe.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}}));function zt(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(I.f)();return Object(A.jsxs)(Wt,{variant:"permanent",open:a,children:[Object(A.jsx)(m.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(A.jsx)(h.a,{onClick:function(){r(!a)},children:Object(A.jsx)(kt.a,{})})}),Object(A.jsx)(T.a,{}),Object(A.jsxs)(D.a,{children:[Object(A.jsxs)(N.a,{button:!0,onClick:function(){return i("employees")},children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(Tt.a,{})}),Object(A.jsx)(H.a,{primary:"Employees"})]}),Object(A.jsxs)(N.a,{button:!0,onClick:function(){return i("timekeeping")},children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(At.a,{})}),Object(A.jsx)(H.a,{primary:"Timekeeping"})]}),Object(A.jsxs)(N.a,{button:!0,onClick:function(){return i("payroll")},children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(Ft.a,{})}),Object(A.jsx)(H.a,{primary:"Payroll"})]})]}),Object(A.jsx)(T.a,{}),Object(A.jsxs)(D.a,{children:[Object(A.jsxs)(N.a,{button:!0,children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(Dt.a,{})}),Object(A.jsx)(H.a,{primary:"Tutorial"})]}),Object(A.jsxs)(N.a,{button:!0,children:[Object(A.jsx)(k.a,{children:Object(A.jsx)(O.a,{})}),Object(A.jsx)(H.a,{primary:"Settings"})]}),Object(A.jsx)(Lt,{})]}),Object(A.jsx)(T.a,{})]})}var Ut={m:"10vh auto",textAlign:"left",maxWidth:"600px"};function _t(){var e=Object(I.f)();return Object(A.jsxs)(R.a,{container:!0,rowSpacing:2,sx:Ut,children:[Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(b.a,{variant:"h1",fontWeight:"bold",children:"MAGE"})}),Object(A.jsx)(R.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(b.a,{variant:"h2",color:"textSecondary",fontWeight:"100",letterSpacing:10,children:"Payroll System"})}),Object(A.jsxs)(R.a,{item:!0,xs:12,mt:3,children:[Object(A.jsx)(E.a,{variant:"contained",onClick:function(){return e("/employees")},children:"Get Started"}),Object(A.jsx)(E.a,{sx:{ml:2},children:"How to use"})]})]})}var Gt=function(){var e=Object(n.useState)("light"),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(o.a)({palette:Object(s.a)({mode:a},"light"===a?{primary:{main:"#125"}}:{primary:{main:"#458"}})});return Object(A.jsxs)(d.a,{theme:i,children:[Object(A.jsx)(wt.a,{}),Object(A.jsx)(M,{modeState:[a,r]}),Object(A.jsxs)(j.a,{sx:{display:"flex",m:"4rem 0"},children:[Object(A.jsx)(zt,{}),Object(A.jsxs)(I.c,{children:[Object(A.jsx)(I.a,{path:"/",element:Object(A.jsx)(_t,{})}),Object(A.jsx)(I.a,{path:"employees",element:Object(A.jsx)(ge,{})}),Object(A.jsx)(I.a,{path:"timekeeping",element:Object(A.jsx)(xt,{})}),Object(A.jsx)(I.a,{path:"payroll",element:Object(A.jsx)(St,{})}),Object(A.jsx)(I.a,{index:!0,path:"new",element:Object(A.jsx)(nt,{})})]})]})]})},Vt=new(function(){function e(){Object(ke.a)(this,e)}return Object(He.a)(e,[{key:"loadState",value:function(){try{var e=localStorage.getItem("magePayrollState");if(null===e)return;return JSON.parse(e)}catch(t){return}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);localStorage.setItem("magePayrollState",t)}catch(a){}}}]),e}()),Jt=Object(G.a)({reducer:{employees:Z,timeKeeping:Ne.b,holidays:jt,userprefs:Se.a,payrolls:De,otherpayrollitems:Ue},preloadedState:Vt.loadState()});Jt.subscribe((function(){Vt.saveState(Jt.getState())}));var Yt=a(64),Xt=function(){return Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(Yt.a,{children:Object(A.jsx)(U.a,{store:Jt,children:Object(A.jsx)(Gt,{})})})})};c.a.render(Object(A.jsx)(Xt,{}),document.getElementById("root"));t.default=Xt},33:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"d",(function(){return j}));var n=a(8),r=a(42),i=Object(r.b)({name:"userprefs",initialState:{currentPayrollPeriod:{from:"",to:""},animateTransitions:!1,selectedEmployee:{},otherItemsData:[]},reducers:{setPayrollPeriodFrom:function(e,t){e.currentPayrollPeriod.from=t.payload;var a=new Date(t.payload);e.currentPayrollPeriod.to=new Date(a.getFullYear(),a.getMonth()+1,1).toISOString().substring(0,10)},setPayrollPeriodTo:function(e,t){e.currentPayrollPeriod.to=t.payload},animateTransitions:function(e,t){e.animateTransitions=t.payload},setSelectedEmployee:function(e,t){e.selectedEmployee=t.payload},setOtherItemsData:function(e,t){e.otherItemsData=t.payload}}}),c=function(e,t){for(var a=864e5,n=new Date(e),r=new Date(t)-n,i=Math.ceil(r/a),c=[],s=0;s<i+1&&s<31;s++)c.push(new Date(n.getTime()+a*s));return c},s=function(e,t){var a=e.split(":").map((function(e){return parseInt(e)})),r=Object(n.a)(a,2),i=r[0],c=r[1],s=t.split(":").map((function(e){return parseInt(e)})),l=Object(n.a)(s,2),o=i-l[0]+(c-l[1])/60;return isNaN(o)?0:Math.round(100*o.toFixed(2))/100},l=i.actions,o=l.setPayrollPeriodFrom,d=l.setPayrollPeriodTo,u=(l.animateTransitions,l.setSelectedEmployee),j=l.setOtherItemsData;t.a=i.reducer}},[[216,1,2]]]);